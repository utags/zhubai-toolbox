<html>
  <head>
    <title>ç«¹ç™½å·¥å…·ç®± ðŸ§°</title>
  </head>
  <body>
    <h1>ç«¹ç™½å·¥å…·ç®± ðŸ§°</h1>
    <h2>å®‰è£… Bookmarklet</h2>
    Drag this into the Bookmarks Bar:
    <a
      href="javascript:%22use%20strict%22;(()=%3E{async%20function%20d(a,b,c){a=a||1;let%20d=`https://zhubai.love/api/dashboard/subscriptions%3Flimit=20%26page=${a}`,f=await%20fetch(d,{});if(console.log(%22Fetched%20page%22,a),200!==f.status)return%20void%20console.warn(f);let%20g=await%20f.json();for(let%20d%20of%20g.data)c.push(d),d.subscriber_email%26%26b.add(d.subscriber_email);let%20h=g.pagination.limit,i=g.pagination.total_count;return{limit:h,total:i}}async%20function%20a(){c(%22.zbtb{width:100%25;height:100%25;position:fixed;top:72px;left:30px;padding:10px;background-color:%23fff;font-weight:600;font-size:16px;color:%23060e4b}.zbtb%20button{font-weight:600;font-size:16px;color:%23060e4b}.zbtb%20button:disabled{opacity:40%25}.zbtb%20textarea{width:90%25;height:40%25;padding:5px}%22);let%20b=new%20Set,e=[],h=1,j=!1,k=!1,a=f(document.body,%22div%22,{class:%22zbtb%22}),m=f(a,%22div%22,{style:%22display:%20flex;%22}),q=f(m,%22button%22,{textContent:%22\u6682\u505C%20\u23F8\uFE0F%22,async%20onclick(b){k=!k,b.target.textContent=k%3F%22\u7EE7\u7EED%20\u25B6\uFE0F%22:%22\u6682\u505C%20\u23F8\uFE0F%22,k||(await%20p())}}),l=f(a,%22p%22,{textContent:%22\uD83D\uDE80%20\u6B63\u5728\u5BFC\u51FA\u6570\u636E%20...%22});f(a,%22p%22,{textContent:%22\uD83D\uDCEE%20\u90AE\u7BB1\u8BA2\u9605\u5217\u8868%22});let%20i=f(a,%22textarea%22);f(a,%22p%22,{textContent:%22\uD83D\uDCD6%20\u8BE6\u7EC6\u8BA2\u9605\u7528\u6237\u6570\u636E\uFF0C\u5305\u542B\u90AE\u7BB1\u8BA2\u9605\u548C\u5FAE\u4FE1\u8BA2\u9605%22});let%20g=f(a,%22textarea%22),p=async()=%3E{var%20c=Math.round;if(!j)try{for(j=!0;j;){let%20f=await%20d(h,b,e),a=f.total,m=f.limit;l.textContent=`\u{1F697}%20\u6B63\u5728\u83B7\u53D6\u6570\u636E:%20${h}%20/%20${c(a/20)}`,0%3Ce.length%26%26(i.value=JSON.stringify([...b],null,2),g.value=JSON.stringify(e,null,2)),m*h%3Ca%3F(h++,k%26%26(l.textContent=`\u23F8\uFE0F%20\u6682\u505C\u4E2D\u3002\u5DF2\u83B7\u53D6\u6570\u636E:%20${h-1}%20/%20${c(a/20)}`,j=!1)):(l.textContent=%22\uD83C\uDF89%20\u6570\u636E\u5BFC\u51FA\u5B8C\u6BD5\u3002\u8BF7\u590D\u5236\u4E0B\u9762\u7684\u6570\u636E\uFF0C\u505A\u597D\u5907\u4EFD\u3002%22,j=!1,q.disabled=!0)}}catch(b){console.error(b),l.innerHTML=%22\u6570\u636E\u5BFC\u51FA\u5931\u8D25\uFF0C\u6709\u95EE\u9898\u8BF7\u5728%20%3Ca%20href=\%22https://github.com/utags/zhubai-toolbox/issues\%22%20target=\%22_blank\%22%3EGitHub%3C/a%3E%20\u6216%20%3Ca%20href=\%22https://greasyfork.org/scripts/463934\%22%20target=\%22_blank\%22%3EGreasy%20Fork%3C/a%3E%20\u53CD\u9988\u3002%22}};await%20p()}var%20g=document,b=(a,b)=%3El(g.createElement(a),b),f=(a,c,d)=%3E{if(a){if(%22string%22==typeof%20a%26%26(d=c,c=a,a=g.head),%22string%22==typeof%20c){let%20e=b(c,d);return%20a.append(e),e}return%20l(c,d),a.append(c),c}},c=a=%3E{let%20c=b(%22style%22,{textContent:a});return%20g.head.append(c),c},h=(a,b,c,d)=%3E{if(a)if(%22object%22==typeof%20b)for(let%20c%20in%20b)Object.hasOwn(b,c)%26%26a.addEventListener(c,b[c]);else%22string%22==typeof%20b%26%26%22function%22==typeof%20c%26%26a.addEventListener(b,c,d)},i=(a,b,c)=%3Ea%3Fa.setAttribute(b,c):void%200,l=(a,b)=%3E{if(a%26%26b)for(let%20c%20in%20b)if(Object.hasOwn(b,c)){let%20d=b[c];if(%22textContent%22===c)a[c]=d;else%20if(%22style%22===c)m(a,d,!0);else%20if(/on\w+/.test(c)){let%20b=c.slice(2);h(a,b,d)}else%20i(a,c,d)}return%20a},m=(a,b,c)=%3E{if(a){let%20d=a.style;if(%22string%22==typeof%20b)return%20void(d.cssText=c%3Fb:d.cssText+%22;%22+b);for(let%20a%20in%20c%26%26(d.cssText=%22%22),b)Object.hasOwn(b,a)%26%26(d[a]=b[a].replace(%22!important%22,%22%22))}};%22function%22!=typeof%20Object.hasOwn%26%26(Object.hasOwn=(a,b)=%3EObject.prototype.hasOwnProperty.call(a,b));var%20k=setInterval(()=%3E{let%20c=document.querySelector(%22th:nth-of-type(6)%20button%22);if(c%26%26%22\u5BFC\u5165/\u5BFC\u51FA%22===c.textContent){let%20d=b(%22button%22,{textContent:%22\u5BFC\u5165/\u5BFC\u51FA%22,class:%22Button_button__2Ce79%20Button_defaultButton__1bbUl%22});c.after(d),c.remove(),d.addEventListener(%22click%22,async%20b=%3E{await%20a(),b.preventDefault()}),clearInterval(k)}},1e3)})();"
      >ç«¹ç™½å·¥å…·ç®± ðŸ§°</a
    >
  </body>
</html>
